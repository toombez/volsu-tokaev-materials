# Векторы и строки

## Вектор

Векторы - это массивы с изменяемым размером. Как и у срезов, их размер не известен во время компиляции, но они могут увеличиваться или уменьшаться в любой момент. Вектор представляется с помощью 3 параметров:

- указатель на данные
- длина
- емкость

Емкость указывает, сколько памяти зарезервировано для вектора. Вектор может расти до тех пор, пока его длина меньше емкости. Когда этот порог должен быть превышен, вектор перераспределяется с большей емкостью.

### Создание вектора

```rs
// С помощью инициализации значений
let mut xs1 = vec![1i32, 2, 3];

// С помощью синтаксиса массивов
let mut xs2 = vec![1i32; 5];

println!("{:?}", xs1) // [1, 2, 3]
println!("{:?}", xs1) // [1, 1, 1, 1, 1]
```

### Добавление элемента

```rs
xs.push(4);
```

### Получение информации об количестве элементов в массиве

```rs
println!("Длина вектора: {}", xs.len());
```

### Получение элемента по индексу

```rs
println!("Второй элемент вектора: {}", xs[1]);
```

### Удаление последнего элемента

```rs
println!("Последний элемент вектора: {:?}", xs.pop());
```

### Итерация по циклу

```rs
// Итерация по вектору
println!("Элементы xs:");

for x in xs.iter() {
    println!("> {}", x);
}

// Мутабельная итерация по циклу
for x in xs.iter_mut() {
    *x *= 3;
}
println!("Обновленный вектор: {:?}", xs);
```

## Строки

Один из наиболее часто используемых в Rust тип строк - ```String```.

```String``` хранится как вектор байтов (```Vec<u8>```), но гарантированно всегда является правильной последовательностью UTF-8. ```String``` выделяется из кучи, может расти.

### Создание строки

```rs
// Создать пустую и изменяемую строку
let mut string = String::new();
let mut another_string = String::from("Hello, world");

for c in vec!['H', 'e', 'l', 'l', 'o'] {
    // Добавить символ в строку
    string.push(c);
    // Добавить набор символов
    string.push_str(", ");
}

print!("{:?}", string) // "H, e, l, l, o, "
```

### Перевод значений в строку

Для перевода значений в строковый тип данных у данных может быть метод ```to_string```.

```rs
let a: i32 = 5;
let string = String::new();

let a: String = a.to_string(); // Перести i32 в String

string.push_str(a.to_str()) // Добавить строку к string
```

# Задания для выполнения

## Задание 1

Напишите функцию следующей сигнатуры: ```f(x: i32) -> f64```. Создайте в функции ```main``` пустой вектор ```Vec<f64>``` и добавьте в него результаты вычисления функции ```f``` для значений в диапазоне ```[1; 40]```. Значения вектора выведите в консоль.

Функция должна вычислять следующее значение:

$$f(x) = \frac{\sqrt{x} + n^2}{2}, $$

где $n$ - номер по списку группы, $x$ - параметр функции.

### Пример

Для студента, который идет $25$ по списку группы будет вычислено следующее

```sh
313.0
313.20710678118655
313.3660254037844
313.5
313.6180339887499
313.7247448713916
313.8228756555323
313.9142135623731
314.0
314.08113883008417
314.1583123951777
314.2320508075689
314.302775637732
314.37082869338695
314.4364916731037
314.5
314.5615528128088
314.62132034355966
314.67944947177034
314.7360679774998
314.7912878474779
314.8452078799117
314.89791576165635
314.94948974278316
315.0
315.0495097567964
315.0980762113533
315.1457513110646
315.19258240356726
315.2386127875258
315.28388218141504
315.3284271247462
315.372281323269
315.41547594742264
315.4580398915498
315.5
315.5413812651491
315.5822070014845
315.6224989991992
```

## Задание 2

Напишите программу, в которой инициализируется вектор ```Vec<i32>``` размером $30$ из диапазона ```[k; k + 30]```.

$$ k = \frac{(n + 60)^2}{6},$$

где $n$ - номер по списку группы.

Для каждого значения из вектора необходиму проверить делимость на $n$. Результат о каждом из чисел необходимо записать в мутабельную строку в следующем формате:

Для чисел, которые делятся: "Число [k_i]: делится на [n]".
Для чисел, которые не делятся: "Число [k_i]: не делится на [n]".

### Пример

Для студента, который идет $25$ по списку группы будет вычислено следующее

```sh
Число 1204: не делится на 25
Число 1232: не делится на 25
Число 1261: не делится на 25
Число 1290: не делится на 25
Число 1320: не делится на 25
Число 1350: делится на 25
Число 1380: не делится на 25
Число 1410: не делится на 25
Число 1441: не делится на 25
Число 1472: не делится на 25
Число 1504: не делится на 25
Число 1536: не делится на 25
Число 1568: не делится на 25
Число 1600: делится на 25
Число 1633: не делится на 25
Число 1666: не делится на 25
Число 1700: делится на 25
Число 1734: не делится на 25
Число 1768: не делится на 25
Число 1802: не делится на 25
Число 1837: не делится на 25
Число 1872: не делится на 25
Число 1908: не делится на 25
Число 1944: не делится на 25
Число 1980: не делится на 25
Число 2016: не делится на 25
Число 2053: не делится на 25
Число 2090: не делится на 25
Число 2128: не делится на 25
Число 2166: не делится на 25
```

::: info перенос на новую строку
Для добавление переноса каретки к строке можно использовать спец. символы:

```rs
let mut string = String::new();

string.push_str("Hello");
string.push_str("\n\r");
string.push_str("world!");

println!("{}", r);
// Hello
// world!
```
:::

::: info проверка делимости
Для проверки делимости одного числа на другое можно использовать оператор остатка от деления (```%```):

```rs
let a = 6
let b = 3

if a % b {
    println!("Делится");
} else {
    println!("Не делится");
}
```

:::

## Задание 3

Напишите программу, в которой инициализируется вектор ```Vec<i32>``` размером $100$ по следующему правилу:

для каждого целого числа из диапазона ```[-50; 50]``` вычисляется значение $k$

$$k = (\frac{i^2}{15}) \bmod 20,$$

где $i$ - число из диапазона.

Необходимо проверить, содержит ли вектор число $n$ - номер по списку группы. Если такое число есть, то вывести количество $n$ в векторе. Иначе - "[n]: значений нет".

### Пример

Для студента, который идет $25$ по списку группы будет вычислено следующее:

```sh
Значений нет
```
