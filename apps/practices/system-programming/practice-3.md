# Векторы и строки

## Вектор

**Векторы** - это массивы с изменяемым размером. Их размер не известен во время компиляции, но они могут увеличиваться или уменьшаться в любой момент. Вектор представляется с помощью 3 параметров:

- указатель на данные;
- длина;
- емкость.

Емкость указывает, сколько памяти зарезервировано для вектора. Вектор может расти до тех пор, пока его длина меньше емкости. Когда этот порог должен быть превышен, вектор перераспределяется с большей емкостью.

### Создание вектора

```rs
// С помощью инициализации значений
let mut xs1 = vec![1, 2, 3];

// С помощью синтаксиса массивов
let mut xs2 = vec![1; 5];

println!("{:?}", xs1) // [1, 2, 3]
println!("{:?}", xs1) // [1, 1, 1, 1, 1]
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=dd7b4b81d4fd340f4b8c6c67376d9958)

### Операции над векторами

```rs
// Добавление элемента
xs.push(4);

// Получение информации об количестве элементов в массиве
println!("Длина вектора: {}", xs.len());

// Получение элемента по индексу
println!("Второй элемент вектора: {}", xs[1]);

// Удаление последнего элемента
println!("Последний элемент вектора: {:?}", xs.pop());

// Перебор значений из вектора
// Итерация по вектору
println!("Элементы xs:");

for x in xs.iter() {
    println!("> {}", x);
}

// Мутабельная итерация по циклу
for x in xs.iter_mut() {
    *x *= 3;
}
println!("Обновленный вектор: {:?}", xs);
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=6d6510c2357b619153f986eae65eb82a)

## Строки

Один из наиболее часто используемых в **Rust** тип строк - ```String```.

```String``` хранится как вектор байтов (```Vec<u8>```), но гарантированно всегда является правильной последовательностью [UTF-8](https://en.wikipedia.org/wiki/UTF-8). ```String``` выделяется из кучи, может увеличивать свой размер.

### Создание строки

```rs
// Создать пустую и изменяемую строку
let mut string = String::new();
let mut another_string = String::from("Hello, world");

for c in vec!['H', 'e', 'l', 'l', 'o'] {
    // Добавить символ в строку
    string.push(c);
    // Добавить набор символов
    string.push_str(", ");
}

print!("{:?}", string) // "H, e, l, l, o, "
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=f54bc4e78653eef3f08d0cf7160b09e3)

### Операции над строками

```rs
// Перевод значений в строку
let a: i32 = 5;
let string = String::new();

let a: String = a.to_string(); // Перести i32 в String

string.push_str(a.as_str()) // Добавить строку к string
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=73dc493abbd23bd94c7538448cfcaedd)

## Задания для выполнения

### Задание 1

Необходимо написать программу, которая имеет функцию следующей сигнатуры: ```f(x: i32) -> f64```. В функции ```main``` инициализируйте пустой вектор. В вектор необходимо добавить вычисленные результаты функции ```f``` примененных к целым числам от 1 до 40 с шагом 1. Полученные значения нужно вывести в консоль.

Функция ```f``` должна вычислять следующее значение:

$$f(x) = \frac{\sqrt{x} + N^2}{2}$$

где $N$ - номер по списку группы, $x$ - параметр функции.

#### Пример

Для студента, который идет 25-м по списку группы будет вычислено следующее

```sh
313.0
313.20710678118655
313.3660254037844
313.5
313.6180339887499
313.7247448713916
313.8228756555323
313.9142135623731
314.0
314.08113883008417
314.1583123951777
314.2320508075689
314.302775637732
314.37082869338695
314.4364916731037
314.5
314.5615528128088
314.62132034355966
314.67944947177034
314.7360679774998
314.7912878474779
314.8452078799117
314.89791576165635
314.94948974278316
315.0
315.0495097567964
315.0980762113533
315.1457513110646
315.19258240356726
315.2386127875258
315.28388218141504
315.3284271247462
315.372281323269
315.41547594742264
315.4580398915498
315.5
315.5413812651491
315.5822070014845
315.6224989991992
```

### Задание 2

Необходимо написать программу, в которой инициализируется вектор ```a``` размером $30$ элементов и заполняется целыми числами от $N$ до $N + 30$ с шагом 1. После числа массива преобразуются по следующему правилу:

$$a_i = \frac{(N + i + 60) ^ 2}{6},$$

где $N$ - номер по списку группы, $a_i$ - элемент массива под индексом $i$.

Для каждого значения из вектора необходиму проверить делимость на $N$. Результат о каждом из чисел необходимо записать в мутабельную строку в следующем формате:

- Для чисел, которые делятся: "Число $k_i$: делится на $N$".
- Для чисел, которые не делятся: "Число $k_i$: не делится на $N$".

#### Пример

Для студента, который идет 25-м по списку группы будет вычислено следующее

```sh
Число 1204 не делится на 25
Число 1232 не делится на 25
Число 1261 не делится на 25
Число 1290 не делится на 25
Число 1320 не делится на 25
Число 1350 делится на 25
Число 1380 не делится на 25
Число 1410 не делится на 25
Число 1441 не делится на 25
Число 1472 не делится на 25
Число 1504 не делится на 25
Число 1536 не делится на 25
Число 1568 не делится на 25
Число 1600 делится на 25
Число 1633 не делится на 25
Число 1666 не делится на 25
Число 1700 делится на 25
Число 1734 не делится на 25
Число 1768 не делится на 25
Число 1802 не делится на 25
Число 1837 не делится на 25
Число 1872 не делится на 25
Число 1908 не делится на 25
Число 1944 не делится на 25
Число 1980 не делится на 25
Число 2016 не делится на 25
Число 2053 не делится на 25
Число 2090 не делится на 25
Число 2128 не делится на 25
Число 2166 не делится на 25
```

::: info перенос на новую строку
Для добавление переноса каретки к строке можно использовать спец. символы:

```rs
let mut string = String::new();

string.push_str("Hello");
string.push_str("\n\r"); // Перенос на новую строчку
string.push_str("world!");

println!("{}", string);
// Hello
// world!
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=902af3071525f9917ce7bee125c0c06f)
:::

::: info проверка делимости
Для проверки делимости одного числа на другое можно использовать оператор остатка от деления (```%```):

```rs
let a = 6;
let b = 3;

if a % b == 0 {
    println!("Делится");
} else {
    println!("Не делится");
}
```

[Запуск в песочнице](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=614fdbe541c0ad7c0f20b1eac24618db)
:::

### Задание 3

Необходимо написать программу, в которой инициализируется вектор ```a``` размером 100 элементов. Массив заполняется целыми числами от -50 до 50 с шагом 1. После значения из массива преобразуются по следующему правилу:

$$a_i = \left(\frac{a_i^2}{N}\right)\bmod 50,$$

где $a_i$ - число из массива $a$ под индексом $i$, $N$ - номер по списку группы.

Необходимо проверить, содержит ли вектор число $N$. Если такое число есть, то вывести количество вхождений $N$ в вектор $a$. Иначе - "[N]: значений нет".

#### Пример

Для студента, который идет 25 по списку группы будет вычислено следующее:

```sh
25: встречается 2 раз
```

::: info Вектор, полученный в результате инициализации

```rs
[
0, 46, 42, 38, 34, 31, 27, 23, 20, 17, 14, 10, 7, 4, 1, 49, 46, 43, 40, 38, 36,
33, 31, 29, 27, 25, 23, 21, 19, 17, 16, 14, 12, 11, 10, 9, 7, 6, 5, 4, 4, 3, 2,
1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 3, 4, 4, 5, 6, 7, 9, 10, 11,
12, 14, 16, 17, 19, 21, 23, 25, 27, 29, 31, 33, 36, 38, 40, 43, 46, 49, 1, 4,
7, 10, 14, 17, 20, 23, 27, 31, 34, 38, 42, 46, 0
]
```
